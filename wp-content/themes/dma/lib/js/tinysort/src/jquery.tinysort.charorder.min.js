/* TinySort charorder 1.1.0
* Copyright (c) 2008-2012 Ron Valstar http://www.sjeiti.com/
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*/
(function(h){var e,k=[],d,b,p=9472,o={},l,a=String.fromCharCode,n=Math.min,m=null,c,g;for(var f=32,q=a(f),j=255;f<j;f++,q=a(f).toLowerCase()){if(k.indexOf(q)===-1){k.push(q)}}k.sort();h.tinysort.charorder={id:"TinySort charorder",version:"1.1.0",copyright:"Copyright (c) 2008-2012 Ron Valstar",uri:"http://tinysort.sjeiti.com/",licensed:{MIT:"http://www.opensource.org/licenses/mit-license.php",GPL:"http://www.gnu.org/licenses/gpl.html"}};h.tinysort.defaults.charOrder=e;h.tinysort.plugin(function(H){c=H;g=c.order=="asc"?1:-1;if(c.charOrder!=e){e=c.charOrder;if(!c.charOrder){b=false;p=9472;o={};l=d=m}else{d=k.slice(0);b=false;for(var I=[],y=function(i,L){I.push(L);o[c.cases?i:i.toLowerCase()]=L},r="",x="z",B=e.length,D,z,E=0;E<B;E++){var t=e[E],J=t.charCodeAt(),w=J>96&&J<123;if(!w){if(t=="["){var F=I.length,G=F?I[F-1]:x,C=e.substr(E+1).match(/[^\]]*/)[0],u=C.match(/{[^}]*}/g);if(u){for(D=0,z=u.length;D<z;D++){var v=u[D];E+=v.length;C=C.replace(v,"");y(v.replace(/[{}]/g,""),G);b=true}}for(D=0,z=C.length;D<z;D++){y(G,C[D])}E+=C.length+1}else{if(t=="{"){var K=e.substr(E+1).match(/[^}]*/)[0];y(K,a(p++));E+=K.length+1;b=true}else{I.push(t)}}}if(I.length&&(w||E===B-1)){var s=I.join("");r+=s;h.each(s,function(i,L){d.splice(d.indexOf(L),1)});var A=I.slice(0);A.splice(0,0,d.indexOf(x)+1,0);Array.prototype.splice.apply(d,A);I.length=0}if(E+1===B){l=new RegExp("["+r+"]","gi")}else{if(w){x=t}}}}}},function(z,u,t,r){if(!z&&c.charOrder){if(b){for(var A in o){var v=o[A];u=u.replace(A,v);t=t.replace(A,v)}}if(u.match(l)!==m||t.match(l)!==m){for(var y=0,x=n(u.length,t.length);y<x;y++){var w=d.indexOf(u[y]),i=d.indexOf(t[y]);if(r=g*(w<i?-1:(w>i?1:0))){break}}}}return r})})(jQuery);
